var ue=e=>{throw TypeError(e)};var re=(e,t,r)=>t.has(e)||ue("Cannot "+r);var v=(e,t,r)=>(re(e,t,"read from private field"),r?r.call(e):t.get(e)),z=(e,t,r)=>t.has(e)?ue("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),k=(e,t,r,o)=>(re(e,t,"write to private field"),o?o.call(e,r):t.set(e,r),r),H=(e,t,r)=>(re(e,t,"access private method"),r);import{f as $e,g as qe,h as he,i as Ke,n as Re,k as Qe,r as a,l as F,j as s,P as U,a as M,m as Je,o as Ze,z as oe,F as et,p as fe,q as me,t as xe,I as tt,v as pe,B as se,w as ve,x as rt,y as ot,A as be,C as ge,D as Se,E as ne,G as nt}from"./index-BWSf265o.js";import{r as st,b as ye,s as Z,e as P,t as T,v as at,a as Me,R as lt,A as it,P as ct,C as dt,I as ut,G as ht,L as ft,f as mt,g as xt,h as pt,i as vt,S as bt,j as gt,k as St,l as Ct,D as wt,w as Pt,m as Rt,n as yt,o as Mt,p as Et}from"./index-DDpxVOXz.js";import{n as jt,s as At,u as _t}from"./useQuery-C0v6RW0j.js";var N,O,w,A,_,K,ae,Pe,Tt=(Pe=class extends $e{constructor(t,r){super();z(this,_);z(this,N);z(this,O);z(this,w);z(this,A);k(this,N,t),this.setOptions(r),this.bindMethods(),H(this,_,K).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var o;const r=this.options;this.options=v(this,N).defaultMutationOptions(t),qe(this.options,r)||v(this,N).getMutationCache().notify({type:"observerOptionsUpdated",mutation:v(this,w),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&he(r.mutationKey)!==he(this.options.mutationKey)?this.reset():((o=v(this,w))==null?void 0:o.state.status)==="pending"&&v(this,w).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=v(this,w))==null||t.removeObserver(this)}onMutationUpdate(t){H(this,_,K).call(this),H(this,_,ae).call(this,t)}getCurrentResult(){return v(this,O)}reset(){var t;(t=v(this,w))==null||t.removeObserver(this),k(this,w,void 0),H(this,_,K).call(this),H(this,_,ae).call(this)}mutate(t,r){var o;return k(this,A,r),(o=v(this,w))==null||o.removeObserver(this),k(this,w,v(this,N).getMutationCache().build(v(this,N),this.options)),v(this,w).addObserver(this),v(this,w).execute(t)}},N=new WeakMap,O=new WeakMap,w=new WeakMap,A=new WeakMap,_=new WeakSet,K=function(){var r;const t=((r=v(this,w))==null?void 0:r.state)??Ke();k(this,O,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},ae=function(t){Re.batch(()=>{var r,o,n,l,i,c,u,h;if(v(this,A)&&this.hasListeners()){const d=v(this,O).variables,m=v(this,O).context;(t==null?void 0:t.type)==="success"?((o=(r=v(this,A)).onSuccess)==null||o.call(r,t.data,d,m),(l=(n=v(this,A)).onSettled)==null||l.call(n,t.data,null,d,m)):(t==null?void 0:t.type)==="error"&&((c=(i=v(this,A)).onError)==null||c.call(i,t.error,d,m),(h=(u=v(this,A)).onSettled)==null||h.call(u,void 0,t.error,d,m))}this.listeners.forEach(d=>{d(v(this,O))})})},Pe);function $(e,t){const r=Qe(),[o]=a.useState(()=>new Tt(r,e));a.useEffect(()=>{o.setOptions(e)},[o,e]);const n=a.useSyncExternalStore(a.useCallback(i=>o.subscribe(Re.batchCalls(i)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),l=a.useCallback((i,c)=>{o.mutate(i,c).catch(jt)},[o]);if(n.error&&At(o.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:l,mutateAsync:n.mutate}}function Nt(e,[t,r]){return Math.min(r,Math.max(t,e))}function Ot(e,t){return a.useReducer((r,o)=>t[r][o]??r,e)}var le="ScrollArea",[Ee,Wr]=ye(le),[Dt,R]=Ee(le),je=a.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:o="hover",dir:n,scrollHideDelay:l=600,...i}=e,[c,u]=a.useState(null),[h,d]=a.useState(null),[m,f]=a.useState(null),[p,C]=a.useState(null),[D,Y]=a.useState(null),[j,I]=a.useState(0),[X,x]=a.useState(0),[g,B]=a.useState(!1),[V,G]=a.useState(!1),b=F(t,L=>u(L)),y=st(n);return s.jsx(Dt,{scope:r,type:o,dir:y,scrollHideDelay:l,scrollArea:c,viewport:h,onViewportChange:d,content:m,onContentChange:f,scrollbarX:p,onScrollbarXChange:C,scrollbarXEnabled:g,onScrollbarXEnabledChange:B,scrollbarY:D,onScrollbarYChange:Y,scrollbarYEnabled:V,onScrollbarYEnabledChange:G,onCornerWidthChange:I,onCornerHeightChange:x,children:s.jsx(U.div,{dir:y,...i,ref:b,style:{position:"relative","--radix-scroll-area-corner-width":j+"px","--radix-scroll-area-corner-height":X+"px",...e.style}})})});je.displayName=le;var Ae="ScrollAreaViewport",_e=a.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:o,nonce:n,...l}=e,i=R(Ae,r),c=a.useRef(null),u=F(t,c,i.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(U.div,{"data-radix-scroll-area-viewport":"",...l,ref:u,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:o})})]})});_e.displayName=Ae;var E="ScrollAreaScrollbar",Te=a.forwardRef((e,t)=>{const{forceMount:r,...o}=e,n=R(E,e.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:i}=n,c=e.orientation==="horizontal";return a.useEffect(()=>(c?l(!0):i(!0),()=>{c?l(!1):i(!1)}),[c,l,i]),n.type==="hover"?s.jsx(It,{...o,ref:t,forceMount:r}):n.type==="scroll"?s.jsx(Lt,{...o,ref:t,forceMount:r}):n.type==="auto"?s.jsx(Ne,{...o,ref:t,forceMount:r}):n.type==="always"?s.jsx(ie,{...o,ref:t}):null});Te.displayName=E;var It=a.forwardRef((e,t)=>{const{forceMount:r,...o}=e,n=R(E,e.__scopeScrollArea),[l,i]=a.useState(!1);return a.useEffect(()=>{const c=n.scrollArea;let u=0;if(c){const h=()=>{window.clearTimeout(u),i(!0)},d=()=>{u=window.setTimeout(()=>i(!1),n.scrollHideDelay)};return c.addEventListener("pointerenter",h),c.addEventListener("pointerleave",d),()=>{window.clearTimeout(u),c.removeEventListener("pointerenter",h),c.removeEventListener("pointerleave",d)}}},[n.scrollArea,n.scrollHideDelay]),s.jsx(Z,{present:r||l,children:s.jsx(Ne,{"data-state":l?"visible":"hidden",...o,ref:t})})}),Lt=a.forwardRef((e,t)=>{const{forceMount:r,...o}=e,n=R(E,e.__scopeScrollArea),l=e.orientation==="horizontal",i=te(()=>u("SCROLL_END"),100),[c,u]=Ot("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return a.useEffect(()=>{if(c==="idle"){const h=window.setTimeout(()=>u("HIDE"),n.scrollHideDelay);return()=>window.clearTimeout(h)}},[c,n.scrollHideDelay,u]),a.useEffect(()=>{const h=n.viewport,d=l?"scrollLeft":"scrollTop";if(h){let m=h[d];const f=()=>{const p=h[d];m!==p&&(u("SCROLL"),i()),m=p};return h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[n.viewport,l,u,i]),s.jsx(Z,{present:r||c!=="hidden",children:s.jsx(ie,{"data-state":c==="hidden"?"hidden":"visible",...o,ref:t,onPointerEnter:P(e.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:P(e.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),Ne=a.forwardRef((e,t)=>{const r=R(E,e.__scopeScrollArea),{forceMount:o,...n}=e,[l,i]=a.useState(!1),c=e.orientation==="horizontal",u=te(()=>{if(r.viewport){const h=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;i(c?h:d)}},10);return W(r.viewport,u),W(r.content,u),s.jsx(Z,{present:o||l,children:s.jsx(ie,{"data-state":l?"visible":"hidden",...n,ref:t})})}),ie=a.forwardRef((e,t)=>{const{orientation:r="vertical",...o}=e,n=R(E,e.__scopeScrollArea),l=a.useRef(null),i=a.useRef(0),[c,u]=a.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=ze(c.viewport,c.content),d={...o,sizes:c,onSizesChange:u,hasThumb:h>0&&h<1,onThumbChange:f=>l.current=f,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:f=>i.current=f};function m(f,p){return Ut(f,i.current,c,p)}return r==="horizontal"?s.jsx(zt,{...d,ref:t,onThumbPositionChange:()=>{if(n.viewport&&l.current){const f=n.viewport.scrollLeft,p=Ce(f,c,n.dir);l.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:f=>{n.viewport&&(n.viewport.scrollLeft=f)},onDragScroll:f=>{n.viewport&&(n.viewport.scrollLeft=m(f,n.dir))}}):r==="vertical"?s.jsx(kt,{...d,ref:t,onThumbPositionChange:()=>{if(n.viewport&&l.current){const f=n.viewport.scrollTop,p=Ce(f,c);l.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:f=>{n.viewport&&(n.viewport.scrollTop=f)},onDragScroll:f=>{n.viewport&&(n.viewport.scrollTop=m(f))}}):null}),zt=a.forwardRef((e,t)=>{const{sizes:r,onSizesChange:o,...n}=e,l=R(E,e.__scopeScrollArea),[i,c]=a.useState(),u=a.useRef(null),h=F(t,u,l.onScrollbarXChange);return a.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),s.jsx(De,{"data-orientation":"horizontal",...n,ref:h,sizes:r,style:{bottom:0,left:l.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:l.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ee(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,m)=>{if(l.viewport){const f=l.viewport.scrollLeft+d.deltaX;e.onWheelScroll(f),He(f,m)&&d.preventDefault()}},onResize:()=>{u.current&&l.viewport&&i&&o({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:J(i.paddingLeft),paddingEnd:J(i.paddingRight)}})}})}),kt=a.forwardRef((e,t)=>{const{sizes:r,onSizesChange:o,...n}=e,l=R(E,e.__scopeScrollArea),[i,c]=a.useState(),u=a.useRef(null),h=F(t,u,l.onScrollbarYChange);return a.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),s.jsx(De,{"data-orientation":"vertical",...n,ref:h,sizes:r,style:{top:0,right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ee(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,m)=>{if(l.viewport){const f=l.viewport.scrollTop+d.deltaY;e.onWheelScroll(f),He(f,m)&&d.preventDefault()}},onResize:()=>{u.current&&l.viewport&&i&&o({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:J(i.paddingTop),paddingEnd:J(i.paddingBottom)}})}})}),[Ht,Oe]=Ee(E),De=a.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:o,hasThumb:n,onThumbChange:l,onThumbPointerUp:i,onThumbPointerDown:c,onThumbPositionChange:u,onDragScroll:h,onWheelScroll:d,onResize:m,...f}=e,p=R(E,r),[C,D]=a.useState(null),Y=F(t,b=>D(b)),j=a.useRef(null),I=a.useRef(""),X=p.viewport,x=o.content-o.viewport,g=T(d),B=T(u),V=te(m,10);function G(b){if(j.current){const y=b.clientX-j.current.left,L=b.clientY-j.current.top;h({x:y,y:L})}}return a.useEffect(()=>{const b=y=>{const L=y.target;(C==null?void 0:C.contains(L))&&g(y,x)};return document.addEventListener("wheel",b,{passive:!1}),()=>document.removeEventListener("wheel",b,{passive:!1})},[X,C,x,g]),a.useEffect(B,[o,B]),W(C,V),W(p.content,V),s.jsx(Ht,{scope:r,scrollbar:C,hasThumb:n,onThumbChange:T(l),onThumbPointerUp:T(i),onThumbPositionChange:B,onThumbPointerDown:T(c),children:s.jsx(U.div,{...f,ref:Y,style:{position:"absolute",...f.style},onPointerDown:P(e.onPointerDown,b=>{b.button===0&&(b.target.setPointerCapture(b.pointerId),j.current=C.getBoundingClientRect(),I.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),G(b))}),onPointerMove:P(e.onPointerMove,G),onPointerUp:P(e.onPointerUp,b=>{const y=b.target;y.hasPointerCapture(b.pointerId)&&y.releasePointerCapture(b.pointerId),document.body.style.webkitUserSelect=I.current,p.viewport&&(p.viewport.style.scrollBehavior=""),j.current=null})})})}),Q="ScrollAreaThumb",Ie=a.forwardRef((e,t)=>{const{forceMount:r,...o}=e,n=Oe(Q,e.__scopeScrollArea);return s.jsx(Z,{present:r||n.hasThumb,children:s.jsx(Wt,{ref:t,...o})})}),Wt=a.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:o,...n}=e,l=R(Q,r),i=Oe(Q,r),{onThumbPositionChange:c}=i,u=F(t,m=>i.onThumbChange(m)),h=a.useRef(void 0),d=te(()=>{h.current&&(h.current(),h.current=void 0)},100);return a.useEffect(()=>{const m=l.viewport;if(m){const f=()=>{if(d(),!h.current){const p=Yt(m,c);h.current=p,c()}};return c(),m.addEventListener("scroll",f),()=>m.removeEventListener("scroll",f)}},[l.viewport,d,c]),s.jsx(U.div,{"data-state":i.hasThumb?"visible":"hidden",...n,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...o},onPointerDownCapture:P(e.onPointerDownCapture,m=>{const p=m.target.getBoundingClientRect(),C=m.clientX-p.left,D=m.clientY-p.top;i.onThumbPointerDown({x:C,y:D})}),onPointerUp:P(e.onPointerUp,i.onThumbPointerUp)})});Ie.displayName=Q;var ce="ScrollAreaCorner",Le=a.forwardRef((e,t)=>{const r=R(ce,e.__scopeScrollArea),o=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&o?s.jsx(Ft,{...e,ref:t}):null});Le.displayName=ce;var Ft=a.forwardRef((e,t)=>{const{__scopeScrollArea:r,...o}=e,n=R(ce,r),[l,i]=a.useState(0),[c,u]=a.useState(0),h=!!(l&&c);return W(n.scrollbarX,()=>{var m;const d=((m=n.scrollbarX)==null?void 0:m.offsetHeight)||0;n.onCornerHeightChange(d),u(d)}),W(n.scrollbarY,()=>{var m;const d=((m=n.scrollbarY)==null?void 0:m.offsetWidth)||0;n.onCornerWidthChange(d),i(d)}),h?s.jsx(U.div,{...o,ref:t,style:{width:l,height:c,position:"absolute",right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function J(e){return e?parseInt(e,10):0}function ze(e,t){const r=e/t;return isNaN(r)?0:r}function ee(e){const t=ze(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=(e.scrollbar.size-r)*t;return Math.max(o,18)}function Ut(e,t,r,o="ltr"){const n=ee(r),l=n/2,i=t||l,c=n-i,u=r.scrollbar.paddingStart+i,h=r.scrollbar.size-r.scrollbar.paddingEnd-c,d=r.content-r.viewport,m=o==="ltr"?[0,d]:[d*-1,0];return ke([u,h],m)(e)}function Ce(e,t,r="ltr"){const o=ee(t),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,l=t.scrollbar.size-n,i=t.content-t.viewport,c=l-o,u=r==="ltr"?[0,i]:[i*-1,0],h=Nt(e,u);return ke([0,i],[0,c])(h)}function ke(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const o=(t[1]-t[0])/(e[1]-e[0]);return t[0]+o*(r-e[0])}}function He(e,t){return e>0&&e<t}var Yt=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},o=0;return function n(){const l={left:e.scrollLeft,top:e.scrollTop},i=r.left!==l.left,c=r.top!==l.top;(i||c)&&t(),r=l,o=window.requestAnimationFrame(n)}(),()=>window.cancelAnimationFrame(o)};function te(e,t){const r=T(e),o=a.useRef(0);return a.useEffect(()=>()=>window.clearTimeout(o.current),[]),a.useCallback(()=>{window.clearTimeout(o.current),o.current=window.setTimeout(r,t)},[r,t])}function W(e,t){const r=T(t);at(()=>{let o=0;if(e){const n=new ResizeObserver(()=>{cancelAnimationFrame(o),o=window.requestAnimationFrame(r)});return n.observe(e),()=>{window.cancelAnimationFrame(o),n.unobserve(e)}}},[e,r])}var Xt=je,Bt=_e,Vt=Le;function Gt({className:e,children:t,...r}){return s.jsxs(Xt,{"data-slot":"scroll-area",className:M("relative",e),...r,children:[s.jsx(Bt,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),s.jsx($t,{}),s.jsx(Vt,{})]})}function $t({className:e,orientation:t="vertical",...r}){return s.jsx(Te,{"data-slot":"scroll-area-scrollbar",orientation:t,className:M("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...r,children:s.jsx(Ie,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function qt({className:e,...t}){return s.jsx("textarea",{"data-slot":"textarea",className:M("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}const Kt=oe.object({title:oe.string().min(2,{message:"Title is required"}),content:oe.string().optional()});function Qt({actionText:e,defaultValues:t,onSubmit:r}){const o=Je({resolver:Ze(Kt),defaultValues:t}),n=l=>{o.reset(),r==null||r(l)};return s.jsx(et,{...o,children:s.jsxs("form",{onSubmit:o.handleSubmit(n),className:"space-y-2",children:[s.jsx(fe,{control:o.control,name:"title",render:({field:l})=>s.jsxs(me,{children:[s.jsx(xe,{children:s.jsx(tt,{placeholder:"Title here...",type:"text",...l,className:"border-0 shadow-none focus-visible:ring-0 focus-visible:border-0 px-0"})}),s.jsx(pe,{})]})}),s.jsx(fe,{control:o.control,name:"content",render:({field:l})=>s.jsxs(me,{children:[s.jsx(xe,{children:s.jsx(Gt,{className:"h-56",children:s.jsx(qt,{className:"border-0 shadow-none focus-visible:ring-0 focus-visible:border-0 px-0 resize-none min-h-44",placeholder:"Content here...",rows:5,...l})})}),s.jsx(pe,{})]})}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(se,{size:"sm",type:"submit",className:"ml-auto",children:e})})]})})}function Jt({className:e,...t}){return s.jsx("div",{"data-slot":"card",className:M("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function Zt({className:e,...t}){return s.jsx("div",{"data-slot":"card-header",className:M("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function er({className:e,...t}){return s.jsx("div",{"data-slot":"card-title",className:M("leading-none font-semibold",e),...t})}function tr({className:e,...t}){return s.jsx("div",{"data-slot":"card-description",className:M("text-muted-foreground text-sm",e),...t})}function rr({className:e,...t}){return s.jsx("div",{"data-slot":"card-content",className:M("px-6",e),...t})}var de="ContextMenu",[or,Fr]=ye(de,[Me]),S=Me(),[nr,We]=or(de),Fe=e=>{const{__scopeContextMenu:t,children:r,onOpenChange:o,dir:n,modal:l=!0}=e,[i,c]=a.useState(!1),u=S(t),h=T(o),d=a.useCallback(m=>{c(m),h(m)},[h]);return s.jsx(nr,{scope:t,open:i,onOpenChange:d,modal:l,children:s.jsx(lt,{...u,dir:n,open:i,onOpenChange:d,modal:l,children:r})})};Fe.displayName=de;var Ue="ContextMenuTrigger",Ye=a.forwardRef((e,t)=>{const{__scopeContextMenu:r,disabled:o=!1,...n}=e,l=We(Ue,r),i=S(r),c=a.useRef({x:0,y:0}),u=a.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...c.current})}),h=a.useRef(0),d=a.useCallback(()=>window.clearTimeout(h.current),[]),m=f=>{c.current={x:f.clientX,y:f.clientY},l.onOpenChange(!0)};return a.useEffect(()=>d,[d]),a.useEffect(()=>void(o&&d()),[o,d]),s.jsxs(s.Fragment,{children:[s.jsx(it,{...i,virtualRef:u}),s.jsx(U.span,{"data-state":l.open?"open":"closed","data-disabled":o?"":void 0,...n,ref:t,style:{WebkitTouchCallout:"none",...e.style},onContextMenu:o?e.onContextMenu:P(e.onContextMenu,f=>{d(),m(f),f.preventDefault()}),onPointerDown:o?e.onPointerDown:P(e.onPointerDown,q(f=>{d(),h.current=window.setTimeout(()=>m(f),700)})),onPointerMove:o?e.onPointerMove:P(e.onPointerMove,q(d)),onPointerCancel:o?e.onPointerCancel:P(e.onPointerCancel,q(d)),onPointerUp:o?e.onPointerUp:P(e.onPointerUp,q(d))})]})});Ye.displayName=Ue;var sr="ContextMenuPortal",Xe=e=>{const{__scopeContextMenu:t,...r}=e,o=S(t);return s.jsx(ct,{...o,...r})};Xe.displayName=sr;var Be="ContextMenuContent",Ve=a.forwardRef((e,t)=>{const{__scopeContextMenu:r,...o}=e,n=We(Be,r),l=S(r),i=a.useRef(!1);return s.jsx(dt,{...l,...o,ref:t,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:c=>{var u;(u=e.onCloseAutoFocus)==null||u.call(e,c),!c.defaultPrevented&&i.current&&c.preventDefault(),i.current=!1},onInteractOutside:c=>{var u;(u=e.onInteractOutside)==null||u.call(e,c),!c.defaultPrevented&&!n.modal&&(i.current=!0)},style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Ve.displayName=Be;var ar="ContextMenuGroup",lr=a.forwardRef((e,t)=>{const{__scopeContextMenu:r,...o}=e,n=S(r);return s.jsx(ht,{...n,...o,ref:t})});lr.displayName=ar;var ir="ContextMenuLabel",cr=a.forwardRef((e,t)=>{const{__scopeContextMenu:r,...o}=e,n=S(r);return s.jsx(ft,{...n,...o,ref:t})});cr.displayName=ir;var dr="ContextMenuItem",Ge=a.forwardRef((e,t)=>{const{__scopeContextMenu:r,...o}=e,n=S(r);return s.jsx(ut,{...n,...o,ref:t})});Ge.displayName=dr;var ur="ContextMenuCheckboxItem",hr=a.forwardRef((e,t)=>{const{__scopeContextMenu:r,...o}=e,n=S(r);return s.jsx(mt,{...n,...o,ref:t})});hr.displayName=ur;var fr="ContextMenuRadioGroup",mr=a.forwardRef((e,t)=>{const{__scopeContextMenu:r,...o}=e,n=S(r);return s.jsx(xt,{...n,...o,ref:t})});mr.displayName=fr;var xr="ContextMenuRadioItem",pr=a.forwardRef((e,t)=>{const{__scopeContextMenu:r,...o}=e,n=S(r);return s.jsx(pt,{...n,...o,ref:t})});pr.displayName=xr;var vr="ContextMenuItemIndicator",br=a.forwardRef((e,t)=>{const{__scopeContextMenu:r,...o}=e,n=S(r);return s.jsx(vt,{...n,...o,ref:t})});br.displayName=vr;var gr="ContextMenuSeparator",Sr=a.forwardRef((e,t)=>{const{__scopeContextMenu:r,...o}=e,n=S(r);return s.jsx(bt,{...n,...o,ref:t})});Sr.displayName=gr;var Cr="ContextMenuArrow",wr=a.forwardRef((e,t)=>{const{__scopeContextMenu:r,...o}=e,n=S(r);return s.jsx(gt,{...n,...o,ref:t})});wr.displayName=Cr;var Pr="ContextMenuSubTrigger",Rr=a.forwardRef((e,t)=>{const{__scopeContextMenu:r,...o}=e,n=S(r);return s.jsx(St,{...n,...o,ref:t})});Rr.displayName=Pr;var yr="ContextMenuSubContent",Mr=a.forwardRef((e,t)=>{const{__scopeContextMenu:r,...o}=e,n=S(r);return s.jsx(Ct,{...n,...o,ref:t,style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Mr.displayName=yr;function q(e){return t=>t.pointerType!=="mouse"?e(t):void 0}var Er=Fe,jr=Ye,Ar=Xe,_r=Ve,Tr=Ge;function Nr({...e}){return s.jsx(Er,{"data-slot":"context-menu",...e})}function Or({...e}){return s.jsx(jr,{"data-slot":"context-menu-trigger",...e})}function Dr({className:e,...t}){return s.jsx(Ar,{children:s.jsx(_r,{"data-slot":"context-menu-content",className:M("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-context-menu-content-available-height) min-w-[8rem] origin-(--radix-context-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...t})})}function we({className:e,inset:t,variant:r="default",...o}){return s.jsx(Tr,{"data-slot":"context-menu-item","data-inset":t,"data-variant":r,className:M("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...o})}const Ur=function(){const[t,r]=a.useState(!1),[o,n]=a.useState("add"),[l,i]=a.useState(""),[c,u]=a.useState({title:"",content:""}),{data:h,refetch:d}=_t({queryKey:["notes"],queryFn:async()=>(await nt(ne)).val()}),{mutate:m}=$({mutationFn:async x=>{const g={title:x.title,slug:ve(x.title),content:x.content,createdAt:Date.now()};return await rt(ne,g)},onSuccess:()=>{r(!1),d()}}),{mutate:f}=$({mutationFn:async x=>{const g={title:x.title,slug:ve(x.title),content:x.content,createdAt:Date.now()};return await ot(be(ge,`notes/${x.id}`),g)},onSuccess:()=>{r(!1),d()}}),{mutate:p}=$({mutationFn:async x=>await Se(be(ge,`notes/${x}`)),onSuccess:()=>{d()}}),{mutate:C}=$({mutationFn:async()=>await Se(ne),onSuccess:()=>{d()}}),D=x=>{p(x)},Y=()=>{C()},j=x=>{if(o==="edit"){f({id:l,title:x.title,content:x.content});return}m(x)},I=x=>{i(x.id),n("edit"),u({title:x.title,content:x.content}),r(!0)},X=()=>{n("add"),u({title:"",content:""}),r(!0)};return s.jsxs("div",{className:"w-full max-w-2xl h-full flex flex-col gap-2 mx-auto",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Notes"}),s.jsx("p",{className:"text-sm text-gray-500",children:"You can add notes to your notes. You can add a title and content."}),s.jsxs("div",{className:"flex items-center gap-2 justify-end w-full",children:[s.jsx(se,{variant:"ghost",size:"sm",onClick:Y,children:"Delete All"}),s.jsxs(wt,{open:t,onOpenChange:r,children:[s.jsx(Pt,{asChild:!0,children:s.jsx(se,{size:"sm",onClick:X,children:"Take a Note"})}),s.jsxs(Rt,{children:[s.jsxs(yt,{children:[s.jsx(Mt,{children:"Notes"}),s.jsxs(Et,{children:["Add a note to your notes. You can add a title and content.",s.jsx("br",{}),s.jsx("span",{className:"text-xs italic text-gray-500",children:"Note: The title will be used as the slug for the note."})]})]}),s.jsx(Qt,{actionText:o==="add"?"Add Note":"Update Note",onSubmit:j,defaultValues:c})]})]})]}),s.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-2",children:h&&Object.entries(h).map(([x,g])=>s.jsxs(Nr,{children:[s.jsx(Or,{children:s.jsxs(Jt,{className:"bg-slate-100 relative group cursor-pointer",onClick:()=>I({id:x,title:g.title,content:g.content||""}),children:[s.jsxs(Zt,{children:[s.jsx(er,{className:"line-clamp-1",children:g.title}),s.jsx(tr,{children:new Date(g.createdAt).toLocaleString()})]}),s.jsx(rr,{className:"line-clamp-2 h-12",children:g.content})]})}),s.jsxs(Dr,{children:[s.jsx(we,{onClick:()=>D(x),children:"Delete"}),s.jsx("a",{href:`/notes/${g.slug}`,target:"_blank",rel:"noopener noreferrer",children:s.jsx(we,{children:"View"})})]})]},x))})]})};export{Ur as component};
