import{r as s,j as e,P as K,c as H,a as w,u as m,L as g,O as q,B as v,S as W,b as D,s as V,d as X,e as J}from"./index-BWSf265o.js";import{S as Q}from"./SignUpForm-Bey0DZDr.js";import{c as _,a as y,u as Y,b as Z,d as b,R as ee,A as ne,e as h,P as oe,C as re,L as te,S as ae,I as se,G as de,f as ie,g as ce,h as pe,i as ue,j as le,k as me,l as xe,D as S,m as C,n as I,o as R,p as A,q as P}from"./index-DDpxVOXz.js";/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ge=_("chevron-down",fe);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],we=_("circle-user",he);var j="DropdownMenu",[ve,an]=Z(j,[y]),i=y(),[je,E]=ve(j),O=o=>{const{__scopeDropdownMenu:n,children:r,dir:t,open:a,defaultOpen:c,onOpenChange:u,modal:d=!0}=o,p=i(n),M=s.useRef(null),[x,f]=Y({prop:a,defaultProp:c??!1,onChange:u,caller:j});return e.jsx(je,{scope:n,triggerId:b(),triggerRef:M,contentId:b(),open:x,onOpenChange:f,onOpenToggle:s.useCallback(()=>f(F=>!F),[f]),modal:d,children:e.jsx(ee,{...p,open:x,onOpenChange:f,dir:t,modal:d,children:r})})};O.displayName=j;var k="DropdownMenuTrigger",T=s.forwardRef((o,n)=>{const{__scopeDropdownMenu:r,disabled:t=!1,...a}=o,c=E(k,r),u=i(r);return e.jsx(ne,{asChild:!0,...u,children:e.jsx(K.button,{type:"button",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":c.open,"aria-controls":c.open?c.contentId:void 0,"data-state":c.open?"open":"closed","data-disabled":t?"":void 0,disabled:t,...a,ref:H(n,c.triggerRef),onPointerDown:h(o.onPointerDown,d=>{!t&&d.button===0&&d.ctrlKey===!1&&(c.onOpenToggle(),c.open||d.preventDefault())}),onKeyDown:h(o.onKeyDown,d=>{t||(["Enter"," "].includes(d.key)&&c.onOpenToggle(),d.key==="ArrowDown"&&c.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});T.displayName=k;var Me="DropdownMenuPortal",L=o=>{const{__scopeDropdownMenu:n,...r}=o,t=i(n);return e.jsx(oe,{...t,...r})};L.displayName=Me;var G="DropdownMenuContent",U=s.forwardRef((o,n)=>{const{__scopeDropdownMenu:r,...t}=o,a=E(G,r),c=i(r),u=s.useRef(!1);return e.jsx(re,{id:a.contentId,"aria-labelledby":a.triggerId,...c,...t,ref:n,onCloseAutoFocus:h(o.onCloseAutoFocus,d=>{var p;u.current||(p=a.triggerRef.current)==null||p.focus(),u.current=!1,d.preventDefault()}),onInteractOutside:h(o.onInteractOutside,d=>{const p=d.detail.originalEvent,M=p.button===0&&p.ctrlKey===!0,x=p.button===2||M;(!a.modal||x)&&(u.current=!0)}),style:{...o.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});U.displayName=G;var De="DropdownMenuGroup",be=s.forwardRef((o,n)=>{const{__scopeDropdownMenu:r,...t}=o,a=i(r);return e.jsx(de,{...a,...t,ref:n})});be.displayName=De;var Ne="DropdownMenuLabel",$=s.forwardRef((o,n)=>{const{__scopeDropdownMenu:r,...t}=o,a=i(r);return e.jsx(te,{...a,...t,ref:n})});$.displayName=Ne;var _e="DropdownMenuItem",z=s.forwardRef((o,n)=>{const{__scopeDropdownMenu:r,...t}=o,a=i(r);return e.jsx(se,{...a,...t,ref:n})});z.displayName=_e;var ye="DropdownMenuCheckboxItem",Se=s.forwardRef((o,n)=>{const{__scopeDropdownMenu:r,...t}=o,a=i(r);return e.jsx(ie,{...a,...t,ref:n})});Se.displayName=ye;var Ce="DropdownMenuRadioGroup",Ie=s.forwardRef((o,n)=>{const{__scopeDropdownMenu:r,...t}=o,a=i(r);return e.jsx(ce,{...a,...t,ref:n})});Ie.displayName=Ce;var Re="DropdownMenuRadioItem",Ae=s.forwardRef((o,n)=>{const{__scopeDropdownMenu:r,...t}=o,a=i(r);return e.jsx(pe,{...a,...t,ref:n})});Ae.displayName=Re;var Pe="DropdownMenuItemIndicator",Ee=s.forwardRef((o,n)=>{const{__scopeDropdownMenu:r,...t}=o,a=i(r);return e.jsx(ue,{...a,...t,ref:n})});Ee.displayName=Pe;var Oe="DropdownMenuSeparator",B=s.forwardRef((o,n)=>{const{__scopeDropdownMenu:r,...t}=o,a=i(r);return e.jsx(ae,{...a,...t,ref:n})});B.displayName=Oe;var ke="DropdownMenuArrow",Te=s.forwardRef((o,n)=>{const{__scopeDropdownMenu:r,...t}=o,a=i(r);return e.jsx(le,{...a,...t,ref:n})});Te.displayName=ke;var Le="DropdownMenuSubTrigger",Ge=s.forwardRef((o,n)=>{const{__scopeDropdownMenu:r,...t}=o,a=i(r);return e.jsx(me,{...a,...t,ref:n})});Ge.displayName=Le;var Ue="DropdownMenuSubContent",$e=s.forwardRef((o,n)=>{const{__scopeDropdownMenu:r,...t}=o,a=i(r);return e.jsx(xe,{...a,...t,ref:n,style:{...o.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});$e.displayName=Ue;var ze=O,Be=T,Fe=L,Ke=U,He=$,qe=z,We=B;function Ve({...o}){return e.jsx(ze,{"data-slot":"dropdown-menu",...o})}function Xe({...o}){return e.jsx(Be,{"data-slot":"dropdown-menu-trigger",...o})}function Je({className:o,sideOffset:n=4,...r}){return e.jsx(Fe,{children:e.jsx(Ke,{"data-slot":"dropdown-menu-content",sideOffset:n,className:w("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",o),...r})})}function l({className:o,inset:n,variant:r="default",...t}){return e.jsx(qe,{"data-slot":"dropdown-menu-item","data-inset":n,"data-variant":r,className:w("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",o),...t})}function Qe({className:o,inset:n,...r}){return e.jsx(He,{"data-slot":"dropdown-menu-label","data-inset":n,className:w("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",o),...r})}function N({className:o,...n}){return e.jsx(We,{"data-slot":"dropdown-menu-separator",className:w("bg-border -mx-1 my-1 h-px",o),...n})}function Ye(){const{dialog:o,openDialog:n}=m(),r=a=>{a||n==null||n(void 0)},t=async a=>{V(D,J),await X(D,a.email,a.password),n==null||n(void 0)};return e.jsx(S,{open:o=="signin",onOpenChange:r,children:e.jsxs(C,{className:"w-sm",children:[e.jsxs(I,{children:[e.jsx(R,{children:"Sign In"}),e.jsx(A,{children:"Sign in to your account to continue."})]}),e.jsx(W,{onSubmit:t}),e.jsx(P,{className:"sm:justify-start",children:e.jsxs("p",{className:"text-sm text-gray-500",children:["Don't have an account?",e.jsx(v,{variant:"link",className:"px-1",onClick:()=>n==null?void 0:n("signup"),children:"Sign Up"})]})})]})})}function Ze(){const{dialog:o,openDialog:n}=m(),r=a=>{a||n==null||n(void 0)},t=()=>{n==null||n(void 0)};return e.jsx(S,{open:o=="signup",onOpenChange:r,children:e.jsxs(C,{className:"w-sm",children:[e.jsxs(I,{children:[e.jsx(R,{children:"Sign Up"}),e.jsx(A,{children:"Create an account to get started."})]}),e.jsx(Q,{onSubmit:t}),e.jsx(P,{className:"sm:justify-start",children:e.jsxs("p",{className:"text-sm text-gray-500",children:["Already have an account?",e.jsx(v,{variant:"link",className:"px-1",onClick:()=>n==null?void 0:n("signin"),children:"Sign In"})]})})]})})}function en(){var r;const{user:o}=m(),n=()=>{D.signOut()};return e.jsxs(Ve,{children:[e.jsx(Xe,{children:e.jsxs(v,{size:"sm",variant:"secondary",children:[e.jsx(we,{}),e.jsxs("p",{children:[(r=o==null?void 0:o.email)==null?void 0:r.split("@")[0],"@"]}),e.jsx(ge,{})]})}),e.jsxs(Je,{children:[e.jsx(Qe,{children:"My Account"}),e.jsx(N,{}),e.jsx(l,{children:"Profile"}),e.jsx(l,{children:"Settings"}),e.jsx(l,{children:"Help"}),e.jsx(l,{children:"Feedback"}),e.jsx(N,{}),e.jsx(l,{className:"text-red-500 hover:text-red-700",onClick:n,children:"Log out"})]})]})}function nn(){const{openDialog:o}=m(),n=()=>{o==null||o("signin")};return e.jsx(v,{size:"sm",onClick:n,children:"Sign In"})}const sn=function(){const{user:n}=m();return e.jsxs("div",{className:"flex flex-col min-h-screen",children:[e.jsxs("header",{className:"sticky top-0 p-1 flex items-center gap-2 bg-[#f0f0f0]",children:[e.jsxs("nav",{className:"flex items-center gap-2 text-sm",children:[e.jsx(g,{to:"/",className:"font-bold text-lg",children:"Porte."}),e.jsx(g,{to:"/notes",className:"[&.active]:font-bold",children:"Notes"}),e.jsx(g,{to:"/about",className:"[&.active]:font-bold",children:"About"}),e.jsx(g,{to:"/setting",className:"[&.active]:font-bold",children:"Setting"})]}),e.jsx("div",{className:"ml-auto",children:n?e.jsx(en,{}):e.jsx(nn,{})})]}),e.jsx("main",{className:"flex-1 px-4",children:e.jsx(q,{})}),e.jsx(Ye,{}),e.jsx(Ze,{}),e.jsx("footer",{className:"p-2 text-sm text-center",children:e.jsxs("p",{className:"text-gray-500 hover:text-gray-700",children:["Made with ❤️ by",e.jsx("span",{className:"font-bold text-gray-800",children:" Porte."})]})})]})};export{sn as component};
